Traceback (most recent call last):
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\Rizky\AppData\Roaming\Python\Python310\site-packages\jupyter_core\utils\__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "C:\laragon\bin\python\python-3.10\lib\asyncio\base_events.py", line 646, in run_until_complete
    return future.result()
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\laragon\bin\python\python-3.10\lib\site-packages\nbclient\client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import networkx as nx
import matplotlib.pyplot as plt
import pandas as pd

def process_facebook_data(file_path):
    # 1. Load Data
    # Membaca dataset edge list (format: node1 node2)
    print("Membaca dataset...")
    G = nx.read_edgelist(file_path, create_using=nx.Graph(), nodetype=int)

    print(f"Informasi Graf:")
    print(f" - Jumlah Node (User): {G.number_of_nodes()}")
    print(f" - Jumlah Edge (Pertemanan): {G.number_of_edges()}")

    # 2. Deteksi Komunitas (Algoritma Louvain)
    # Menggunakan implementasi Louvain bawaan NetworkX
    print("\nMenjalankan Algoritma Louvain...")
    communities = nx.community.louvain_communities(G, seed=42)

    # 3. Hitung Modularitas
    # Modularitas mengukur seberapa baik struktur komunitas tersebut
    modularity = nx.community.modularity(G, communities)
    print(f"Nilai Modularitas: {modularity:.4f}")
    print(f"Jumlah Komunitas ditemukan: {len(communities)}")

    # 4. Persiapan Visualisasi
    # Membuat dictionary untuk memetakan setiap node ke ID komunitasnya
    partition = {}
    for idx, comm in enumerate(communities):
        for node in comm:
            partition[node] = idx

    # Simpan hasil pembagian komunitas ke CSV
    df = pd.DataFrame(list(partition.items()), columns=['Node', 'Community_ID'])
    df.to_csv('facebook_communities.csv', index=False)
    print("Hasil pembagian komunitas disimpan ke 'facebook_communities.csv'")

    # 5. Visualisasi Graf
    print("Membuat visualisasi graf (mungkin memakan waktu)...")
    plt.figure(figsize=(12, 12))

    # Menggunakan spring_layout untuk tata letak node
    pos = nx.spring_layout(G, k=0.1, iterations=20, seed=42)

    # Mewarnai node berdasarkan komunitasnya
    cmap = plt.get_cmap('tab20', len(communities))
    node_colors = [partition[n] for n in G.nodes()]

    nx.draw_networkx_nodes(G, pos, node_size=20, cmap=cmap, node_color=node_colors)
    nx.draw_networkx_edges(G, pos, alpha=0.05) # Transparansi tinggi agar tidak terlalu penuh

    plt.title(f"Deteksi Komunitas Facebook (Louvain)\nModularitas: {modularity:.4f}", fontsize=15)
    plt.axis('off')
    plt.savefig('facebook_community_graph.png')
    plt.show()

    return G, communities # Mengembalikan graf dan komunitas

# Jalankan fungsi
# Pastikan file facebook_combined.txt ada di folder yang sama
# Menyimpan hasil ke variabel global
G_global, communities_global = process_facebook_data('facebook_combined.txt')
------------------

----- stdout -----
Membaca dataset...
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mFileNotFoundError[0m                         Traceback (most recent call last)
Cell [1;32mIn[1], line 62[0m
[0;32m     57[0m     [38;5;28;01mreturn[39;00m G, communities [38;5;66;03m# Mengembalikan graf dan komunitas[39;00m
[0;32m     59[0m [38;5;66;03m# Jalankan fungsi[39;00m
[0;32m     60[0m [38;5;66;03m# Pastikan file facebook_combined.txt ada di folder yang sama[39;00m
[0;32m     61[0m [38;5;66;03m# Menyimpan hasil ke variabel global[39;00m
[1;32m---> 62[0m G_global, communities_global [38;5;241m=[39m [43mprocess_facebook_data[49m[43m([49m[38;5;124;43m'[39;49m[38;5;124;43mfacebook_combined.txt[39;49m[38;5;124;43m'[39;49m[43m)[49m

Cell [1;32mIn[1], line 9[0m, in [0;36mprocess_facebook_data[1;34m(file_path)[0m
[0;32m      5[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21mprocess_facebook_data[39m(file_path):
[0;32m      6[0m     [38;5;66;03m# 1. Load Data[39;00m
[0;32m      7[0m     [38;5;66;03m# Membaca dataset edge list (format: node1 node2)[39;00m
[0;32m      8[0m     [38;5;28mprint[39m([38;5;124m"[39m[38;5;124mMembaca dataset...[39m[38;5;124m"[39m)
[1;32m----> 9[0m     G [38;5;241m=[39m [43mnx[49m[38;5;241;43m.[39;49m[43mread_edgelist[49m[43m([49m[43mfile_path[49m[43m,[49m[43m [49m[43mcreate_using[49m[38;5;241;43m=[39;49m[43mnx[49m[38;5;241;43m.[39;49m[43mGraph[49m[43m([49m[43m)[49m[43m,[49m[43m [49m[43mnodetype[49m[38;5;241;43m=[39;49m[38;5;28;43mint[39;49m[43m)[49m
[0;32m     11[0m     [38;5;28mprint[39m([38;5;124mf[39m[38;5;124m"[39m[38;5;124mInformasi Graf:[39m[38;5;124m"[39m)
[0;32m     12[0m     [38;5;28mprint[39m([38;5;124mf[39m[38;5;124m"[39m[38;5;124m - Jumlah Node (User): [39m[38;5;132;01m{[39;00mG[38;5;241m.[39mnumber_of_nodes()[38;5;132;01m}[39;00m[38;5;124m"[39m)

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\networkx\utils\decorators.py:788[0m, in [0;36margmap.__call__.<locals>.func[1;34m(_argmap__wrapper, *args, **kwargs)[0m
[0;32m    787[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21mfunc[39m([38;5;241m*[39margs, __wrapper[38;5;241m=[39m[38;5;28;01mNone[39;00m, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m--> 788[0m     [38;5;28;01mreturn[39;00m argmap[38;5;241m.[39m_lazy_compile(__wrapper)([38;5;241m*[39margs, [38;5;241m*[39m[38;5;241m*[39mkwargs)

File [1;32m<class 'networkx.utils.decorators.argmap'> compilation 6:3[0m, in [0;36margmap_read_edgelist_1[1;34m(path, comments, delimiter, create_using, nodetype, data, edgetype, encoding, backend, **backend_kwargs)[0m
[0;32m      1[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mbz2[39;00m
[0;32m      2[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mcollections[39;00m
[1;32m----> 3[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mgzip[39;00m
[0;32m      4[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01minspect[39;00m
[0;32m      5[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mitertools[39;00m

File [1;32mC:\laragon\bin\python\python-3.10\lib\site-packages\networkx\utils\decorators.py:198[0m, in [0;36mopen_file.<locals>._open_file[1;34m(path)[0m
[0;32m    194[0m [38;5;28;01melse[39;00m:
[0;32m    195[0m     [38;5;66;03m# could be None, or a file handle, in which case the algorithm will deal with it[39;00m
[0;32m    196[0m     [38;5;28;01mreturn[39;00m path, [38;5;28;01mlambda[39;00m: [38;5;28;01mNone[39;00m
[1;32m--> 198[0m fobj [38;5;241m=[39m [43m_dispatch_dict[49m[43m[[49m[43mext[49m[43m][49m[43m([49m[43mpath[49m[43m,[49m[43m [49m[43mmode[49m[38;5;241;43m=[39;49m[43mmode[49m[43m)[49m
[0;32m    199[0m [38;5;28;01mreturn[39;00m fobj, [38;5;28;01mlambda[39;00m: fobj[38;5;241m.[39mclose()

[1;31mFileNotFoundError[0m: [Errno 2] No such file or directory: 'facebook_combined.txt'

